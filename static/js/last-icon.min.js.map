{
  "version": 3,
  "sources": ["last-icon.js"],
  "sourcesContent": ["const CACHE = {};\r\nconst DEBUG = (window.LastIcon && window.LastIcon.debug) || false;\r\nconst PRELOAD = window.LastIconPreload || {};\r\nconst FIX_FILL = [\"material\", \"boxicons\", \"fontawesome\", \"eos\"];\r\nconst FIX_STROKE = [\"iconpark\"];\r\nconst REPLACE_NAME = (window.LastIcon && window.LastIcon.replaceName) || {};\r\nconst ALIASES = Object.assign(\r\n  {\r\n    bs: \"bootstrap\",\r\n    bx: \"boxicons\",\r\n    cs: \"cssgg\",\r\n    gg: \"cssgg\",\r\n    tb: \"tabler\",\r\n    fa: \"fontawesome\",\r\n    st: \"supertiny\",\r\n    mi: \"material\",\r\n    em: \"emojicc\",\r\n    fl: \"flags\",\r\n    in: \"iconoir\",\r\n    eo: \"eos\",\r\n    ft: \"feather\",\r\n    ip: \"iconpark\",\r\n  },\r\n  (window.LastIcon && window.LastIcon.aliases) || {}\r\n);\r\nconst ENABLE_ICONS = (window.LastIcon && window.LastIcon.fonts) || [];\r\nconst FONT_ICONS = {\r\n  material: {\r\n    class: \"material-icons-{type}\",\r\n    types: {\r\n      baseline: \"\",\r\n      twotone: \"two-tone\",\r\n    },\r\n  },\r\n  boxicons: {\r\n    class: \"bx {prefix}-{icon}\",\r\n  },\r\n  bootstrap: {\r\n    class: \"bi-{icon}\",\r\n  },\r\n  fontawesome: {\r\n    class: \"{prefix} fa-{icon}\",\r\n  },\r\n  iconoir: {\r\n    class: \"iconoir-{icon}\",\r\n  },\r\n  eos: {\r\n    class: \"eos-icons-{type}\",\r\n    types: {\r\n      solid: \"\",\r\n    },\r\n  },\r\n};\r\nconst TYPES = Object.assign(\r\n  {\r\n    boxicons: \"solid\",\r\n    fontawesome: \"solid\",\r\n    material: \"baseline\",\r\n    flags: \"4x3\",\r\n    eos: \"solid\",\r\n  },\r\n  (window.LastIcon && window.LastIcon.types) || {}\r\n);\r\nconst PREFIXES = Object.assign(\r\n  {\r\n    boxicons: {\r\n      solid: \"bxs\",\r\n      regular: \"bx\",\r\n      logos: \"bxl\",\r\n    },\r\n    fontawesome: {\r\n      solid: \"fas\",\r\n      regular: \"far\",\r\n      light: \"fal\",\r\n      duotone: \"fad\",\r\n      brands: \"fab\",\r\n    },\r\n  },\r\n  (window.LastIcon && window.LastIcon.prefixes) || {}\r\n);\r\nconst DEFAULT_SET = (window.LastIcon && window.LastIcon.defaultSet) || \"tabler\";\r\nconst DEFAULT_STROKE = (window.LastIcon && window.LastIcon.defaultStroke) || 2;\r\nconst PATHS = Object.assign(\r\n  {\r\n    bootstrap: \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1/icons/{icon}.svg\",\r\n    // type: solid, regular, logos\r\n    boxicons: \"https://cdn.jsdelivr.net/npm/boxicons@2/svg/{type}/{prefix}-{icon}.svg\",\r\n    cssgg: \"https://cdn.jsdelivr.net/npm/css.gg@2/icons/svg/{icon}.svg\",\r\n    tabler: \"https://cdn.jsdelivr.net/npm/@tabler/icons@1/icons/{icon}.svg\",\r\n    // type: solid, regular, brands, light, duotone\r\n    fontawesome: \"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/svgs/{type}/{icon}.svg\",\r\n    bytesize: \"https://cdn.jsdelivr.net/npm/bytesize-icons@1/dist/icons/{icon}.svg\",\r\n    supertiny: \"https://cdn.jsdelivr.net/npm/super-tiny-icons@0.4.0/images/svg/{icon}.svg\",\r\n    // type: baseline, outline, round, sharp, twotone\r\n    material: \"https://cdn.jsdelivr.net/npm/@material-icons/svg@1/svg/{icon}/{type}.svg\",\r\n    // type : 4x3 or 1x1\r\n    flags: \"https://cdn.jsdelivr.net/npm/flag-svg-collection@1/flags/{type}/{icon}.svg\",\r\n    emojicc: \"https://cdn.jsdelivr.net/npm/emoji-cc@1/svg/{icon}.svg\",\r\n    iconoir: \"https://cdn.jsdelivr.net/gh/lucaburgio/iconoir/icons/{icon}.svg\",\r\n    // type: solid, outlined, animated\r\n    eos: \"https://cdn.jsdelivr.net/gh/lekoala/eos-icons-mirror/{type}/{icon}.svg\",\r\n    feather: \"https://cdn.jsdelivr.net/npm/feather-icons@4/dist/icons/{icon}.svg\",\r\n    // types: 33 types ! see website\r\n    iconpark: \"https://cdn.jsdelivr.net/gh/bytedance/IconPark/source/{type}/{icon}.svg\",\r\n  },\r\n  (window.LastIcon && window.LastIcon.paths) || {}\r\n);\r\n\r\nclass LastIcon extends HTMLElement {\r\n  constructor() {\r\n    // Always call super first in constructor\r\n    super();\r\n  }\r\n\r\n  static log(message) {\r\n    if (!DEBUG) {\r\n      return;\r\n    }\r\n    console.log(\"[l-i] \" + message);\r\n  }\r\n\r\n  /**\r\n   * @param {string} iconName\r\n   * @param {string} iconSet\r\n   * @param {string} iconType\r\n   * @return {Promise<String, Error>}\r\n   */\r\n  static getIconSvg(iconName, iconSet, iconType) {\r\n    let iconUrl = PATHS[iconSet];\r\n    let cacheKey = iconSet + \"-\" + iconName;\r\n    if (iconType) {\r\n      cacheKey += \"-\" + iconType;\r\n    }\r\n    if (PRELOAD[cacheKey]) {\r\n      LastIcon.log(\"Fetching \" + cacheKey + \" from preloaded cache\");\r\n      return PRELOAD[cacheKey];\r\n    }\r\n    if (!iconUrl) {\r\n      return new Promise(() => {\r\n        console.error(`Icon set ${iconSet} does not exists`);\r\n      });\r\n    }\r\n\r\n    iconUrl = LastIcon.replacePlaceholders(iconUrl, iconName, iconSet, iconType);\r\n\r\n    // If we have it in cache\r\n    if (iconUrl && CACHE[cacheKey]) {\r\n      LastIcon.log(\"Fetching \" + cacheKey + \" from cache\");\r\n      return CACHE[cacheKey];\r\n    }\r\n\r\n    // Or resolve\r\n    LastIcon.log(\"Fetching \" + cacheKey + \" from url \" + iconUrl);\r\n    CACHE[cacheKey] = fetch(iconUrl).then(function (response) {\r\n      if (response.ok) {\r\n        return response.text();\r\n      }\r\n      throw Error(response.status);\r\n    });\r\n    return CACHE[cacheKey];\r\n  }\r\n\r\n  /**\r\n   * @param {string} value\r\n   * @param {string} iconName\r\n   * @param {string} iconSet\r\n   * @param {string} iconType\r\n   * @return {string}\r\n   */\r\n  static replacePlaceholders(value, iconName, iconSet, iconType) {\r\n    let iconPrefix = (PREFIXES[iconSet] && PREFIXES[iconSet][iconType]) || null;\r\n    value = value.replace(\"{icon}\", iconName);\r\n    if (iconType) {\r\n      value = value.replace(\"{type}\", iconType);\r\n    } else {\r\n      // Maybe we want to remove the type like in material icons\r\n      value = value.replace(\"-{type}\", \"\");\r\n    }\r\n    if (iconPrefix) {\r\n      value = value.replace(\"{prefix}\", iconPrefix);\r\n    }\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * @param {object} inst\r\n   * @param {string} iconName\r\n   * @param {string} iconSet\r\n   * @param {string} iconType\r\n   */\r\n  static refreshIcon(inst, iconName, iconSet, iconType) {\r\n    if (REPLACE_NAME[iconName]) {\r\n      iconName = REPLACE_NAME[iconName];\r\n    }\r\n    if (ENABLE_ICONS.includes(iconSet)) {\r\n      LastIcon.log(\"Using font for \" + iconName);\r\n      let iconClass = FONT_ICONS[iconSet][\"class\"];\r\n      let nameAsClass = iconClass.includes(\"{icon}\");\r\n      let fontType = iconType;\r\n      if (FONT_ICONS[iconSet][\"types\"] && iconType in FONT_ICONS[iconSet][\"types\"]) {\r\n        fontType = FONT_ICONS[iconSet][\"types\"][iconType];\r\n      }\r\n      iconClass = LastIcon.replacePlaceholders(iconClass, iconName, iconSet, fontType);\r\n      if (nameAsClass) {\r\n        inst.innerHTML = '<i class=\"' + iconClass + '\"></i>';\r\n      } else {\r\n        inst.innerHTML = '<i class=\"' + iconClass + '\">' + iconName + \"</i>\";\r\n      }\r\n      return;\r\n    }\r\n    LastIcon.getIconSvg(iconName, iconSet, iconType)\r\n      .then((iconData) => {\r\n        if (inst.stroke || FIX_STROKE.includes(inst.set)) {\r\n          iconData = iconData.replace(/stroke-width=\"([0-9]*)\"/g, 'stroke-width=\"' + inst.stroke + '\"');\r\n        }\r\n        if (FIX_FILL.includes(inst.set)) {\r\n          iconData = iconData.replace(/(<svg.*?)>/, '$1 fill=\"currentColor\">');\r\n        }\r\n        inst.innerHTML = iconData;\r\n      })\r\n      .catch((error) => {\r\n        inst.innerHTML = \"<span>\u26A0\uFE0F</span>\";\r\n        console.error(`Failed to load icon ${iconName} (error ${error})`);\r\n      });\r\n  }\r\n\r\n  get type() {\r\n    return this.getAttribute(\"type\") || TYPES[this.set];\r\n  }\r\n\r\n  get set() {\r\n    let v = this.getAttribute(\"set\") || DEFAULT_SET;\r\n    if (ALIASES[v]) {\r\n      v = ALIASES[v];\r\n    }\r\n    return v;\r\n  }\r\n\r\n  get stroke() {\r\n    let v = this.getAttribute(\"stroke\");\r\n    if (!v && this.set == \"tabler\") {\r\n      v = DEFAULT_STROKE;\r\n    }\r\n    return v;\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return [\"name\"];\r\n  }\r\n\r\n  attributeChangedCallback(attr, oldVal, newVal) {\r\n    this.innerHTML = \"\";\r\n    if (this.hasAttribute(\"size\")) {\r\n      this.style.setProperty(\"--size\", this.getAttribute(\"size\") + \"px\");\r\n    }\r\n    if (newVal) {\r\n      LastIcon.refreshIcon(this, newVal, this.set, this.type);\r\n    }\r\n  }\r\n}\r\n\r\ncustomElements.define(\"l-i\", LastIcon);\r\n"],
  "mappings": "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",
  "names": []
}
